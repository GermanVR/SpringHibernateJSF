<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Administrar Direccion</title>
</h:head>
<h:body>

	<f:event listener="#{usuarioBean.validaSession()}" type="preRenderView" />
	<f:event listener="#{direccionBean.validaPersona()}" type="preRenderView" />
	<h:form id="form">
		<h:panelGrid columns="3">
			<p:outputLabel value="idDirecion" />
			<p:inputText id="idDireccion" value="#{direccionBean.dir.idDireccion}" disabled="true" required="true" label="Id Direccion">
				<f:validateLength minimum="1" />
			</p:inputText>
			<p:messages for="idDireccion" style="color:red;" />


			<p:outputLabel value="Id Persona" />
			<p:inputText id="idPersona" value="#{direccionBean.dir.idPersona}" required="true" disabled="true" label="Id Persona">
				<f:validateLength minimum="1" />
			</p:inputText>
			<p:messages for="idPersona" style="color:red;" />

			<p:outputLabel value="Ciudad" />
			<p:inputText id="ciudad" value="#{direccionBean.dir.ciudad}" required="true" label="Ciudad">
				<f:validateLength minimum="5" maximum="50" />
			</p:inputText>
			<p:messages for="ciudad" style="color:red;" />

			<p:outputLabel value="Codigo Postal" />
			<p:inputText id="codigoPostal" value="#{direccionBean.dir.codigoPostal}" required="true" label="Codigo Postal">
				<f:validateLength maximum="5" minimum="5" />
			</p:inputText>
			<p:messages for="codigoPostal" style="color:red;" />

			<p:outputLabel value="Municipio" />
			<p:inputText id="municipio" value="#{direccionBean.dir.municipio}" required="true" label="Municipio">
				<f:validateLength maximum="50" minimum="5" />
			</p:inputText>
			<p:messages for="municipio" style="color:red;" />


			<p:outputLabel value="Colonia" />
			<p:inputText id="colonia" value="#{direccionBean.dir.colonia}" required="true" label="Colonia">
				<f:validateLength minimum="10" maximum="200" />
			</p:inputText>
			<p:messages for="colonia" style="color:red;" />


			<p:outputLabel value="Telefono" />
			<p:inputText id="telefono" value="#{direccionBean.dir.telefono}" required="true" label="Telefono">

				<f:validateLength minimum="10" maximum="12" />
			</p:inputText>
			<p:messages for="telefono" style="color:red;" />


			<p:outputLabel value="Calle" />
			<p:inputText id="calle" value="#{direccionBean.dir.calle}" required="true" label="Calle">
				<f:validateLength minimum="10" maximum="200" />
			</p:inputText>
			<p:messages for="calle" style="color:red;" />
			<p:panelGrid rendered="#{direccionBean.dir.idDireccion eq 0}">
				<p:commandButton update="form" action="#{direccionBean.insertarDireccion()}" value="Insertar" style="width:100%;" />
			</p:panelGrid>
			<p:panelGrid rendered="#{direccionBean.dir.idDireccion > 0}">
				<p:commandButton action="#{direccionBean.guardaDireccion()}" value="Guardar" style="width:100%;" />
			</p:panelGrid>
			<p:commandButton action="index?faces-redirect=true" immediate="true" value="Regresar" style="width:100%;" />
			<p:column />

		</h:panelGrid>
	</h:form>
</h:body>
</html>